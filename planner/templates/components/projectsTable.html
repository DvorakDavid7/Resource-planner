<table id="table" border="1">
    {% include "components/tableHeader.html" %}

    <tbody>
        {% for project in projectList %}
            {% set weeks_len = table.header.weeks | length %}
            <tr>
                <td class="item_for_search">
                    <button onclick="setUrl('{{ project[0] }}')" class="project-select btn btn-link text-left">{{ project[2] }}</button>
                </td>

                {% for i in range(weeks_len) -%}
                    {% set project_id = project[0] | string %}

                    <td>{{ data[project_id][table.header.weeks[i] | int]  }}</td>

                {%- endfor %}
            </tr>

        {% endfor %}
    </tbody>
</table>
<script>
    function setUrl(cid) {
        let y_start = table_header.year_start
        let y_end = table_header.year_end
        let w_start = table_header.weeks[0]
        let w_end = table_header.weeks[table_header.weeks.length - 1]
        let url = `project_edit/${cid}?year_start=${y_start}&year_end=${y_end}&week_start=${w_start}&week_end=${w_end}`
        window.location = url
    }
</script>